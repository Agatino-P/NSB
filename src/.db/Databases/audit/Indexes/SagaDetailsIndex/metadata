{"Name":"SagaDetailsIndex","Version":54003,"Collections":["SagaSnapshots","SagaHistories"],"LockMode":0,"Priority":1,"State":0,"IndexDefinition":{"SourceType":"Documents","LockMode":"Unlock","Priority":"Normal","State":"Normal","OutputReduceToCollection":null,"PatternForOutputReduceToCollectionReferences":null,"PatternReferencesCollectionName":null,"ReduceOutputIndex":null,"DeploymentMode":null,"Name":"SagaDetailsIndex","Reduce":"results.GroupBy(result => result.SagaId).Select(g => new {\r\n    g = g,\r\n    first = DynamicEnumerable.FirstOrDefault(g)\r\n}).Select(this0 => new {\r\n    Id = this0.first.SagaId,\r\n    SagaId = this0.first.SagaId,\r\n    SagaType = this0.first.SagaType,\r\n    Changes = Enumerable.ToList(DynamicEnumerable.OrderByDescending(this0.g.SelectMany(x => x.Changes), x0 => x0.FinishTime).Take(50000))\r\n})","Type":"MapReduce","Maps":["docs.SagaSnapshots.Select(doc => new {\r\n    SagaId = doc.SagaId,\r\n    Id = doc.SagaId,\r\n    SagaType = doc.SagaType,\r\n    Changes = new[] {\r\n        new {\r\n            Endpoint = doc.Endpoint,\r\n            FinishTime = doc.FinishTime,\r\n            InitiatingMessage = doc.InitiatingMessage,\r\n            OutgoingMessages = doc.OutgoingMessages,\r\n            StartTime = doc.StartTime,\r\n            StateAfterChange = doc.StateAfterChange,\r\n            Status = doc.Status\r\n        }\r\n    }\r\n})","docs.SagaHistories.Select(doc => new {\r\n    SagaId = doc.SagaId,\r\n    Id = doc.SagaId,\r\n    SagaType = doc.SagaType,\r\n    Changes = doc.Changes\r\n})"],"ClusterState":{"LastStateIndex":0},"Fields":{"SagaId":{"Analyzer":null,"Indexing":"Exact","Spatial":null,"Storage":null,"Suggestions":null,"TermVector":null},"SagaType":{"Analyzer":null,"Indexing":"No","Spatial":null,"Storage":null,"Suggestions":null,"TermVector":null},"Changes":{"Analyzer":null,"Indexing":"No","Spatial":null,"Storage":null,"Suggestions":null,"TermVector":null}},"Configuration":{},"AdditionalSources":{},"AdditionalAssemblies":[]}}